"use strict";(self.webpackChunkreact_app_1=self.webpackChunkreact_app_1||[]).push([[473],{3473:function(e,s,n){n.r(s),n.d(s,{default:function(){return F}});var i=n(5671),r=n(3144),o=n(136),t=n(516),a=n(8683),l=n(2791),c=n(8687),p=n(9439),_=n(2605),u={main_img:"ProfileInfo_main_img__hLH8y",profile__item:"ProfileInfo_profile__item__FCXcz",profile__img:"ProfileInfo_profile__img__2i0zI",profile__name:"ProfileInfo_profile__name__grHDE",profile__about:"ProfileInfo_profile__about__ECsrw",profile__status_container:"ProfileInfo_profile__status_container__n2++2",profile__about_status:"ProfileInfo_profile__about_status__mgiAO",profile__status:"ProfileInfo_profile__status__GxbNk",profile__span:"ProfileInfo_profile__span__2enSr",profile__contacts_keys:"ProfileInfo_profile__contacts_keys__P0+uP",profile__error:"ProfileInfo_profile__error__Zhcrk",profile__btn:"ProfileInfo_profile__btn__FqL5u",profile__span_value:"ProfileInfo_profile__span_value__zD+hh"},f=n(1907),d=n(184),m=function(e){var s=(0,l.useState)(!1),n=(0,p.Z)(s,2),i=n[0],r=n[1],o=(0,l.useState)(e.status),t=(0,p.Z)(o,2),a=t[0],c=t[1];return(0,l.useEffect)((function(){c(e.status)}),[e.status]),(0,d.jsxs)("div",{className:u.profile__status_container,children:[(0,d.jsx)("span",{className:u.profile__about_status,children:"Status:"}),i?(0,d.jsx)("input",{value:a,onChange:function(e){c(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatusThunkCreator(a)},autoFocus:!0}):(0,d.jsx)("span",{onDoubleClick:function(){r(!0)},className:u.profile__status,children:e.status||"no status"})]})},h=n(6139),x=n(9867),j=n(704),v=(0,j.Z)({form:"setProfile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){return(0,d.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&(0,d.jsx)("span",{className:u.profile__error,children:e.error}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:u.profile__span,children:"Full name:"}),(0,d.jsx)(h.Z,{component:x.g,placeholder:"Full name",name:"fullName"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:u.profile__span,children:"Looking for a job:"}),(0,d.jsx)(h.Z,{component:x.I,type:"checkbox",placeholder:"Looking for a job?",name:"lookingForAJob"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:u.profile__span,children:"My professional skills:"}),(0,d.jsx)(h.Z,{component:x.I,placeholder:"Professional skills",name:"lookingForAJobDescription"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:u.profile__span,children:"About me:"}),(0,d.jsx)(h.Z,{component:x.g,placeholder:"Tell us smth about you",name:"aboutMe"})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:u.profile__span,children:["Contacts: ",Object.keys(e.profile.contacts).map((function(e){return"vk"===e||"mainLink"===e?null:(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:u.profile__span,children:[e,":"]}),(0,d.jsx)(h.Z,{component:x.I,placeholder:"Your ".concat(e),name:"contacts."+e})]})}))]})}),e.isOwner?null:(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:u.profile__btn,children:"Save"})})]})})),g=function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:u.profile__name,children:e.profile.fullName})}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:u.profile__span,children:[(0,d.jsx)("span",{children:"Looking for a job: "}),(0,d.jsx)("span",{className:u.profile__span_value,children:e.profile.lookingForAJob?" Yes":" No"})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:u.profile__span,children:["My professional skills:",(0,d.jsx)("span",{className:u.profile__span_value,children:e.profile.lookingForAJobDescription})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:u.profile__span,children:["About me:",(0,d.jsxs)("span",{className:u.profile__span_value,children:[" ",e.profile.aboutMe]})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:u.profile__span,children:["Contacts: ",Object.keys(e.profile.contacts).map((function(s){return"vk"===s||"mainLink"===s?null:(0,d.jsx)(b,{contactTitle:s,contactValue:e.profile.contacts[s]},s)}))]})}),e.isOwner?null:(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:u.profile__btn,onClick:e.activateEditMode,children:"edit"})})]})},b=function(e){var s=e.contactTitle,n=e.contactValue;return(0,d.jsxs)("div",{className:u.profile__contacts_keys,children:[s,":",(0,d.jsxs)("span",{className:u.profile__span_value,children:[" ",n]})]})},k=function(e){var s=(0,l.useState)(!1),n=(0,p.Z)(s,2),i=n[0],r=n[1],o=e.router.params.userID;if(!e.profile)return(0,d.jsx)(_.Z,{});return(0,d.jsxs)("div",{className:u.profileInfo_container,children:[(0,d.jsx)("img",{className:u.main_img,src:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80"}),(0,d.jsxs)("div",{className:u.profile__item,children:[(0,d.jsx)("img",{className:u.profile__img,src:e.profile.photos.large||f}),e.isOwner?null:(0,d.jsx)("input",{onChange:function(s){s.target.files.length&&e.addImageThunkCreator(s.target.files[0])},type:"file"}),(0,d.jsx)(m,(0,a.Z)({},e)),i?(0,d.jsx)(v,(0,a.Z)({initialValues:e.profile,onSubmit:function(s){e.saveProfileThunkCreator(s).then((function(){r(!1)}))},deactivateEditMode:function(){r(!1)}},e)):(0,d.jsx)(g,(0,a.Z)((0,a.Z)({},e),{},{activateEditMode:function(){r(!0)},isOwner:o}))]})]})},N=n(6070),P={post__item:"Posts_post__item__JpDVw",posts__btn:"Posts_posts__btn__9282j"},Z="PostElem_item__TO1s3",I="PostElem_item_img__rQiA9",C=function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{className:I,src:"https://e7.pngegg.com/pngimages/799/987/png-clipart-computer-icons-avatar-icon-design-avatar-heroes-computer-wallpaper-thumbnail.png",alt:"avatar"}),(0,d.jsxs)("div",{className:Z,children:[e.message," ",(0,d.jsxs)("span",{children:[e.like," likes"]})," "]})]})},y=n(5304),D=l.memo((function(e){var s=e.postsData.map((function(e){return(0,d.jsx)(C,{like:e.likesCount,message:e.message},e.id)})),n=(0,j.Z)({form:"editProfile"})((function(e){return(0,d.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(h.Z,{component:x.g,name:"postText",validate:[y.lp,(0,y.BS)(15)]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{className:P.posts__btn,children:"Add post"})})]})}));return(0,d.jsxs)("div",{className:P.post__item,children:[(0,d.jsx)(n,{onSubmit:function(s){e.addPost(s.postText)}}),(0,d.jsx)("p",{children:"My posts"}),(0,d.jsx)("div",{className:P.post__new_item}),(0,d.jsx)("div",{children:s})]})})),T=(0,c.$j)((function(e){return{postsData:e.profilePage.postsData,textValue:e.profilePage.textValue}}),(function(e){return{addPost:function(s){e((0,N.Wl)(s))}}}))(D),S=function(e){return(0,d.jsxs)("div",{children:[(0,d.jsx)(k,(0,a.Z)({},e)),(0,d.jsx)(T,{})]})},M=n(7689),w=n(7781);var A=function(e){(0,o.Z)(n,e);var s=(0,t.Z)(n);function n(){return(0,i.Z)(this,n),s.apply(this,arguments)}return(0,r.Z)(n,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userID;e||(e=this.props.loginnedUserId),e||(e=28131),this.props.profileThunkCreator(e),this.props.getStatusThunkCreator(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,n){this.props.router.params.userID!=e.router.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)("div",{children:(0,d.jsx)(S,(0,a.Z)({},this.props))})}}]),n}(l.Component),F=(0,w.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loginnedUserId:e.auth.id}}),{profileThunkCreator:N.EP,getStatusThunkCreator:N.xD,updateStatusThunkCreator:N.NN,addImageThunkCreator:N.Fz,saveProfileThunkCreator:N.Gi}),(function(e){return function(s){var n=(0,M.TH)(),i=(0,M.s0)(),r=(0,M.UO)();return(0,d.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{router:{location:n,navigate:i,params:r}}))}}))(A)}}]);
//# sourceMappingURL=473.43ab6a0f.chunk.js.map